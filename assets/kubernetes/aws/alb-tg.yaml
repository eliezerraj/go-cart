apiVersion: gateway.k8s.aws/v1beta1
kind: TargetGroupConfiguration
metadata:
  name: tg-go-cart
  namespace: test-a
  labels:
    app: tg-go-cart
spec:
  targetReference:
    name: svc-go-cart
  defaultConfiguration:
    targetGroupName: tg-go-cart
    targetType: ip
  routeConfigurations:
    - routeIdentifier:
        kind: HTTPRoute
        name: go-cart-route
        namespace: test-a
      targetGroupProps:
        healthCheckConfig:
          healthCheckProtocol: HTTP
          healthCheckPath: /health
          healthCheckPort: traffic-port 
          healthyThresholdCount: 2 
          unhealthyThresholdCount: 2